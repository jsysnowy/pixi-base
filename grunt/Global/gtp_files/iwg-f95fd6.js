!function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){var n=t[o][1][e];return i(n?n:e)},d,d.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e),this._$=window.jQuery,this.$body=this._$("body").find(".ltr-iwg-confirmation"),this.$rulesPanelOpened=this.$body.find(".rules-read-more-opened"),this.$rulesPanelClosed=this.$body.find(".rules-read-more-closed"),this.bindEvents()}return i(e,[{key:"bindEvents",value:function(){var e=this;this.$rulesPanelOpened.on("click",".icon",function(){e.toggleRulesPanel()}),this.$rulesPanelClosed.on("click",".icon",function(){e.toggleRulesPanel()}),window.addEventListener("message",this.constructor.handleGameEvents,!1)}},{key:"toggleRulesPanel",value:function(){this.$rulesPanelOpened.hasClass("hide")?(this.$rulesPanelOpened.removeClass("hide"),this.$rulesPanelClosed.addClass("hide")):(this.$rulesPanelOpened.addClass("hide"),this.$rulesPanelClosed.removeClass("hide"))}}],[{key:"handleGameEvents",value:function(e){if("animation_url_expired"===e.data)window.location.reload();else if("game.finished"===e.data){var t=document.getElementById("iwg-game"),n=t?t.attributes["data-gameId"].value:"",r=t?t.attributes["data-transactionId"].value:"",i=t?t.attributes["data-playMode"].value:"",a=document.getElementsByTagName("meta")._csrf,o=a?a.content:"",s={gameId:n,transactionId:r,_csrf:o},l=void 0;l=i&&"TRIAL"===i?"/iwg/outcome/trial":"/iwg/outcome";var u=document.createElement("form");u.setAttribute("method","post"),u.setAttribute("action",l);for(var d in s)if(Object.prototype.hasOwnProperty.call(s,d)){var c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name",d),c.setAttribute("value",s[d]),u.appendChild(c)}document.body.appendChild(u),u.submit()}}}]),e}();n.default=a;new a},{}]},{},[1]);